<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="快速开始#npm run dev执行的过程#Vue开发命令 npm run dev 输入后的执行过程_微 光的博客-CSDN博客 npm run dev 的时候究竟做了什么_npm_蚂蚁二娘-华为云开发者联盟
vue3 书写风格#options API setup() setup语法糖， ref全家桶#ref 包裹变量的值，实现深层次响应式 isRef 判断是否是Ref对象 shallowRef 只能实现浅层式的响应（ref和shallowRef不能写在一起，会被ref影响） triggerRef 强制更新 customRef 自定义Ref ref 可以用来获取dom元素，就不用document.get&hellip;等方式获取了 reactive全家桶#参数只接受引用类型 访问修改不需要加.value reactive直接给数组对象赋值，会破坏响应式对象，视图不会更新，不能响应式地渲染到页面上，解决方法 方法一：解构赋值，push到数组中 方法二：添加一个对象，将数组作为一个属性，这样赋值就没问题 readonly 只读属性，不允许赋值 shallowReactive 浅层响应，更深层次的变化不会渲染到页面，也会被reactive影响（类似shallowRef） ref和reactive的区别：#ref支持所有的类型；reactive参数只接受引用类型（Array Object Map Set） ref取值、赋值都需要加.value；reactive不需要.value to全家桶#toRef() 用于提取对象的某个属性，解构拿到属性传递给函数。注意：只有用于修改响应式对象的值时页面才会有变化，非响应式视图毫无变化 toRefs 解构reactive，可以使对象的每个属性都是响应式对象 toRaw 是对象不再是响应式对象 vue3响应式原理（见笔记）#computed计算属性#当依赖的值发生变化，计算属性会自动更新。
选项式写法，支持一个对象里面写get函数和set函数 函数式写法，只能支持一个getter函数，不允许修改值 // 1.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Vue3.0 基础" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://hyylc.github.io/docs/vue/note3/" />
<title>Vue3.0 基础 | Hyy小站</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css" integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz&#43;OQteg=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.84141ec77450c442823cd9ba1ac6409a3d304dcb13f642def4303366106cc0f3.js" integrity="sha256-hBQex3RQxEKCPNm6GsZAmj0wTcsT9kLe9DAzZhBswPM=" crossorigin="anonymous"></script>
<link rel="alternate" type="application/rss+xml" href="https://hyylc.github.io/docs/vue/note3/index.xml" title="Hyy小站" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Hyy小站</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/js/" class="">JS笔记</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/js/note2/" class="">手写函数</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/js/note1/" class="">函数柯里化和Promise</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/js/note3/" class="">JS内置对象Array（一）</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/vue/" class="">Vue笔记</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/vue/note3/" class="active">Vue3.0 基础</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/vue/note4/" class="">Vue3和Vue2的区别</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/vue/note1/" class="">Vue响应式原理</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/vue/note2/" class="">Vue组合式API</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/%E7%BD%91%E7%BB%9C/" class="">网络笔记</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%BD%91%E7%BB%9C/note1/" class="">前端跨域问题</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/%E7%BB%84%E4%BB%B6%E5%BA%93/" class="">组件库笔记</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E7%BB%84%E4%BB%B6%E5%BA%93/note1/" class="">element-ui</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/hugo/" class="">Hugo笔记</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/hugo/note1/" class="">hugo建站</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" class="">开发工具</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/note1/" class="">Vite &amp; Pinia</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/note2/" class="">其他工具</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Vue3.0 基础</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#npm-run-dev执行的过程">npm run dev执行的过程</a></li>
    <li><a href="#vue3-书写风格">vue3 书写风格</a></li>
    <li><a href="#ref全家桶">ref全家桶</a></li>
    <li><a href="#reactive全家桶">reactive全家桶</a></li>
    <li><a href="#ref和reactive的区别">ref和reactive的区别：</a></li>
    <li><a href="#to全家桶">to全家桶</a></li>
    <li><a href="#vue3响应式原理见笔记">vue3响应式原理（见笔记）</a></li>
    <li><a href="#computed计算属性">computed计算属性</a></li>
    <li><a href="#watch监听器再看看官网">watch监听器（再看看官网）</a></li>
    <li><a href="#watcheffect高级监听器">watchEffect高级监听器</a></li>
    <li><a href="#认识组件和生命周期">认识组件和生命周期</a></li>
    <li><a href="#bem布局和经典layout架构">bem布局和经典layout架构</a></li>
    <li><a href="#父子组件传参">父子组件传参</a></li>
    <li><a href="#局部组件和全局组件动态组件">局部组件和全局组件、动态组件</a></li>
    <li><a href="#异步组件">异步组件</a></li>
    <li><a href="#teleport传递组件">Teleport传递组件</a></li>
    <li><a href="#keep-alive缓存组件">keep-alive缓存组件</a></li>
    <li><a href="#动态组件">动态组件</a></li>
    <li><a href="#transition组件">transition组件</a></li>
    <li><a href="#transition-group过渡列表">transition-group过渡列表</a></li>
    <li><a href="#依赖注入">依赖注入</a></li>
    <li><a href="#兄弟组件传参和事件总线">兄弟组件传参和事件总线</a></li>
  </ul>

  <ul>
    <li><a href="#内置组件">内置组件</a>
      <ul>
        <li><a href="#transition"><!-- raw HTML omitted --></a></li>
        <li><a href="#transitiongroup"><!-- raw HTML omitted --></a></li>
        <li><a href="#keepalive"><!-- raw HTML omitted --></a></li>
        <li><a href="#teleport"><!-- raw HTML omitted --></a></li>
        <li><a href="#suspense"><!-- raw HTML omitted --></a></li>
      </ul>
    </li>
    <li><a href="#深入组件">深入组件</a>
      <ul>
        <li><a href="#透传-attributes">透传 Attributes</a></li>
        <li><a href="#插槽">插槽</a></li>
        <li><a href="#依赖注入-1">依赖注入</a></li>
        <li><a href="#异步组件配合suspend内置组件再看看">异步组件（配合suspend内置组件，再看看）</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#组合式函数">组合式函数</a></li>
    <li><a href="#自定义指令">自定义指令</a></li>
    <li><a href="#插件">插件</a></li>
  </ul>

  <ul>
    <li><a href="#reactive-的局限性">reactive() 的局限性</a></li>
    <li><a href="#计算属性">计算属性</a></li>
    <li><a href="#侦听器">侦听器</a></li>
    <li><a href="#模板引用">模板引用</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="快速开始">
  快速开始
  <a class="anchor" href="#%e5%bf%ab%e9%80%9f%e5%bc%80%e5%a7%8b">#</a>
</h1>
<h2 id="npm-run-dev执行的过程">
  npm run dev执行的过程
  <a class="anchor" href="#npm-run-dev%e6%89%a7%e8%a1%8c%e7%9a%84%e8%bf%87%e7%a8%8b">#</a>
</h2>
<p><a href="https://blog.csdn.net/Web_J/article/details/100080010">Vue开发命令 npm run dev 输入后的执行过程_微 光的博客-CSDN博客</a>
<a href="https://huaweicloud.csdn.net/639fefc3dacf622b8df90a1b.html?spm=1001.2101.3001.6650.6&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~activity-6-125165316-blog-100080010.235%5ev38%5epc_relevant_anti_vip_base&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~activity-6-125165316-blog-100080010.235%5ev38%5epc_relevant_anti_vip_base&amp;utm_relevant_index=7">npm run dev 的时候究竟做了什么_npm_蚂蚁二娘-华为云开发者联盟</a></p>
<h2 id="vue3-书写风格">
  vue3 书写风格
  <a class="anchor" href="#vue3-%e4%b9%a6%e5%86%99%e9%a3%8e%e6%a0%bc">#</a>
</h2>
<ul>
<li>options API</li>
<li>setup()</li>
<li>setup语法糖，<!-- raw HTML omitted --></li>
</ul>
<h2 id="ref全家桶">
  ref全家桶
  <a class="anchor" href="#ref%e5%85%a8%e5%ae%b6%e6%a1%b6">#</a>
</h2>
<ul>
<li>ref 包裹变量的值，实现深层次响应式</li>
<li>isRef 判断是否是Ref对象</li>
<li>shallowRef 只能实现浅层式的响应（ref和shallowRef不能写在一起，会被ref影响）</li>
<li>triggerRef 强制更新</li>
<li>customRef 自定义Ref</li>
<li>ref 可以用来获取dom元素，就不用document.get&hellip;等方式获取了</li>
</ul>
<h2 id="reactive全家桶">
  reactive全家桶
  <a class="anchor" href="#reactive%e5%85%a8%e5%ae%b6%e6%a1%b6">#</a>
</h2>
<ul>
<li>参数只接受引用类型</li>
<li>访问修改不需要加.value</li>
<li>reactive直接给数组对象赋值，会破坏响应式对象，视图不会更新，不能响应式地渲染到页面上，解决方法
<ul>
<li>方法一：解构赋值，push到数组中</li>
<li>方法二：添加一个对象，将数组作为一个属性，这样赋值就没问题</li>
</ul>
</li>
<li>readonly 只读属性，不允许赋值</li>
<li>shallowReactive  浅层响应，更深层次的变化不会渲染到页面，也会被reactive影响（类似shallowRef）</li>
</ul>
<h2 id="ref和reactive的区别">
  ref和reactive的区别：
  <a class="anchor" href="#ref%e5%92%8creactive%e7%9a%84%e5%8c%ba%e5%88%ab">#</a>
</h2>
<ul>
<li>ref支持所有的类型；reactive参数只接受引用类型（Array Object Map Set）</li>
<li>ref取值、赋值都需要加.value；reactive不需要.value</li>
</ul>
<h2 id="to全家桶">
  to全家桶
  <a class="anchor" href="#to%e5%85%a8%e5%ae%b6%e6%a1%b6">#</a>
</h2>
<ul>
<li>toRef() 用于提取对象的某个属性，解构拿到属性传递给函数。注意：只有用于修改响应式对象的值时页面才会有变化，非响应式视图毫无变化</li>
<li>toRefs 解构reactive，可以使对象的每个属性都是响应式对象</li>
<li>toRaw 是对象不再是响应式对象</li>
</ul>
<h2 id="vue3响应式原理见笔记">
  vue3响应式原理（见笔记）
  <a class="anchor" href="#vue3%e5%93%8d%e5%ba%94%e5%bc%8f%e5%8e%9f%e7%90%86%e8%a7%81%e7%ac%94%e8%ae%b0">#</a>
</h2>
<h2 id="computed计算属性">
  computed计算属性
  <a class="anchor" href="#computed%e8%ae%a1%e7%ae%97%e5%b1%9e%e6%80%a7">#</a>
</h2>
<p>当依赖的值发生变化，计算属性会自动更新。</p>
<ol>
<li>选项式写法，支持一个对象里面写get函数和set函数</li>
<li>函数式写法，只能支持一个getter函数，不允许修改值</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 1.选项式写法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">firstName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ref</span>(<span style="color:#e6db74">&#39;yy&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">lastName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ref</span>(<span style="color:#e6db74">&#39;h&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">computed</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">get</span> () {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">firstName</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;-&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">lastName</span>.<span style="color:#a6e22e">value</span>;
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">set</span> (<span style="color:#a6e22e">newVal</span>) {
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">firstName</span>.<span style="color:#a6e22e">value</span>, <span style="color:#a6e22e">lastName</span>.<span style="color:#a6e22e">value</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">newVal</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39;-&#39;</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">changeName</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">name</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;l-cj&#39;</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 2.函数式写法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">computed</span>(() =&gt; <span style="color:#a6e22e">firstName</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;-&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">lastName</span>.<span style="color:#a6e22e">value</span>)
</span></span></code></pre></div><h2 id="watch监听器再看看官网">
  watch监听器（再看看官网）
  <a class="anchor" href="#watch%e7%9b%91%e5%90%ac%e5%99%a8%e5%86%8d%e7%9c%8b%e7%9c%8b%e5%ae%98%e7%bd%91">#</a>
</h2>
<p>监听响应式对象的变化，如果要监听ref对象的深度监听属性要开启watch的deep属性，reactive对象不需要。
属性：deep（深度监听）/immediate（为true会在一开始的时候执行一次回调函数）/flush(pre组件更新之前调用，sync同步执行，post组件更新之后执行)</p>
<h2 id="watcheffect高级监听器">
  watchEffect高级监听器
  <a class="anchor" href="#watcheffect%e9%ab%98%e7%ba%a7%e7%9b%91%e5%90%ac%e5%99%a8">#</a>
</h2>
<p>监听数据变化，立即执行回调函数</p>
<h2 id="认识组件和生命周期">
  认识组件和生命周期
  <a class="anchor" href="#%e8%ae%a4%e8%af%86%e7%bb%84%e4%bb%b6%e5%92%8c%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>&lt;<span style="color:#f92672">template</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">h3</span>&gt;<span style="color:#a6e22e">我是组件</span>&lt;/<span style="color:#f92672">h3</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;div&#39;</span>&gt;{{<span style="color:#a6e22e">str</span>}}&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">hr</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#f92672">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">setup</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">ref</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">import</span> {<span style="color:#a6e22e">onBeforeMount</span>, <span style="color:#a6e22e">onMounted</span>, <span style="color:#a6e22e">onBeforeUpdate</span>, <span style="color:#a6e22e">onUpdated</span>, <span style="color:#a6e22e">onBeforeUnmount</span>, <span style="color:#a6e22e">onUnmounted</span>} <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 可以用来调试
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">import</span> {<span style="color:#a6e22e">onRenderTriggered</span>, <span style="color:#a6e22e">onRenderTracked</span>} <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// setup语法糖模式没有 beforeCreate, created这两个生命周期
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ref</span>(<span style="color:#e6db74">&#39;hyy&#39;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">div</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ref</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;setup&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">onBeforeMount</span>(() =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;创建之前&#39;</span>, <span style="color:#a6e22e">div</span>.<span style="color:#a6e22e">value</span>);
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">onMounted</span>(() =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;创建完成&#39;</span>, <span style="color:#a6e22e">div</span>.<span style="color:#a6e22e">value</span>);
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">onBeforeUpdate</span>(() =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;更新组件之前&#39;</span>);
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">onUpdated</span>(() =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;更新组件完成&#39;</span>);
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">onBeforeUnmount</span>(() =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;销毁组件之前&#39;</span>);
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">onUnmounted</span>(() =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;销毁组件完成&#39;</span>);
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">read</span><span style="color:#f92672">-</span><span style="color:#a6e22e">the</span><span style="color:#f92672">-</span><span style="color:#a6e22e">docs</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">888</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">style</span>&gt;
</span></span></code></pre></div><h2 id="bem布局和经典layout架构">
  bem布局和经典layout架构
  <a class="anchor" href="#bem%e5%b8%83%e5%b1%80%e5%92%8c%e7%bb%8f%e5%85%b8layout%e6%9e%b6%e6%9e%84">#</a>
</h2>
<h2 id="父子组件传参">
  父子组件传参
  <a class="anchor" href="#%e7%88%b6%e5%ad%90%e7%bb%84%e4%bb%b6%e4%bc%a0%e5%8f%82">#</a>
</h2>
<p>defineProps 子组件接受父组件传递的值
defineEmits 给父组件传值 const emit = defineEmits([&lsquo;on-click&rsquo;])，父组件监听这个时间
defineExpose 暴露属性、方法</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 子组件接收父组件传递的值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">props</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">defineProps</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">name</span> <span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> String,
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hyy&#39;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 给父组件传值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">emit</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">defineEmits</span>([<span style="color:#e6db74">&#39;on-click&#39;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">send</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">emit</span>(<span style="color:#e6db74">&#39;on-click&#39;</span>, <span style="color:#e6db74">&#39;lcj&#39;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="局部组件和全局组件动态组件">
  局部组件和全局组件、动态组件
  <a class="anchor" href="#%e5%b1%80%e9%83%a8%e7%bb%84%e4%bb%b6%e5%92%8c%e5%85%a8%e5%b1%80%e7%bb%84%e4%bb%b6%e5%8a%a8%e6%80%81%e7%bb%84%e4%bb%b6">#</a>
</h2>
<h2 id="异步组件">
  异步组件
  <a class="anchor" href="#%e5%bc%82%e6%ad%a5%e7%bb%84%e4%bb%b6">#</a>
</h2>
<p>应用场景：请求到数据之前给用户展示骨架屏</p>
<h2 id="teleport传递组件">
  Teleport传递组件
  <a class="anchor" href="#teleport%e4%bc%a0%e9%80%92%e7%bb%84%e4%bb%b6">#</a>
</h2>
<h2 id="keep-alive缓存组件">
  keep-alive缓存组件
  <a class="anchor" href="#keep-alive%e7%bc%93%e5%ad%98%e7%bb%84%e4%bb%b6">#</a>
</h2>
<h2 id="动态组件">
  动态组件
  <a class="anchor" href="#%e5%8a%a8%e6%80%81%e7%bb%84%e4%bb%b6">#</a>
</h2>
<ul>
<li><!-- raw HTML omitted --><!-- raw HTML omitted --></li>
</ul>
<h2 id="transition组件">
  transition组件
  <a class="anchor" href="#transition%e7%bb%84%e4%bb%b6">#</a>
</h2>
<ul>
<li>在样式中写过渡效果</li>
<li>可以配合第三方库，如 animate.css 等实现更多效果</li>
<li>生命周期函数：
<ul>
<li>before-enter</li>
<li>enter</li>
<li>after-enter</li>
<li>enter-cancelled</li>
<li>before-leave</li>
<li>leave</li>
<li>after-leave</li>
<li>leave-cancelled</li>
</ul>
</li>
<li>gsap库</li>
<li>appear 首次渲染执行动画</li>
</ul>
<h2 id="transition-group过渡列表">
  transition-group过渡列表
  <a class="anchor" href="#transition-group%e8%bf%87%e6%b8%a1%e5%88%97%e8%a1%a8">#</a>
</h2>
<ul>
<li>平面过渡</li>
<li>状态过渡</li>
</ul>
<h2 id="依赖注入">
  依赖注入
  <a class="anchor" href="#%e4%be%9d%e8%b5%96%e6%b3%a8%e5%85%a5">#</a>
</h2>
<h2 id="兄弟组件传参和事件总线">
  兄弟组件传参和事件总线
  <a class="anchor" href="#%e5%85%84%e5%bc%9f%e7%bb%84%e4%bb%b6%e4%bc%a0%e5%8f%82%e5%92%8c%e4%ba%8b%e4%bb%b6%e6%80%bb%e7%ba%bf">#</a>
</h2>
<ul>
<li>借助父组件传递参数</li>
<li>手写事件总线eventBus（基于发布订阅模式）
<ul>
<li>Bus.emit(自定义事件, 参数&hellip;)发射</li>
<li>Bus.on(自定义事件, 回调函数)监听</li>
<li>Bus.off(取消自定义事件, 取消回调函数)</li>
<li>Bus.all.clear() 取消所有事件</li>
</ul>
</li>
<li>mitt</li>
</ul>
<h1 id="组件">
  组件
  <a class="anchor" href="#%e7%bb%84%e4%bb%b6">#</a>
</h1>
<h2 id="内置组件">
  内置组件
  <a class="anchor" href="#%e5%86%85%e7%bd%ae%e7%bb%84%e4%bb%b6">#</a>
</h2>
<h3 id="transition">
  <!-- raw HTML omitted -->
  <a class="anchor" href="#transition">#</a>
</h3>
<ul>
<li>为<strong>单个</strong>元素或组件提供动画过渡效果</li>
<li>props</li>
<li>生命周期函数</li>
</ul>
<h3 id="transitiongroup">
  <!-- raw HTML omitted -->
  <a class="anchor" href="#transitiongroup">#</a>
</h3>
<ul>
<li>对多个元素、组件添加动画效果</li>
<li>列表中每个元素都要有唯一的key</li>
</ul>
<h3 id="keepalive">
  <!-- raw HTML omitted -->
  <a class="anchor" href="#keepalive">#</a>
</h3>
<ul>
<li>缓存组件，使其不被销毁，保留状态</li>
</ul>
<h3 id="teleport">
  <!-- raw HTML omitted -->
  <a class="anchor" href="#teleport">#</a>
</h3>
<ul>
<li>通过 to 将组件渲染到指定的DOM结构处</li>
</ul>
<h3 id="suspense">
  <!-- raw HTML omitted -->
  <a class="anchor" href="#suspense">#</a>
</h3>
<ul>
<li>对异步依赖进行处理，上层等待下层，可以在等待时渲染一个加载状态</li>
</ul>
<h2 id="深入组件">
  深入组件
  <a class="anchor" href="#%e6%b7%b1%e5%85%a5%e7%bb%84%e4%bb%b6">#</a>
</h2>
<h3 id="透传-attributes">
  透传 Attributes
  <a class="anchor" href="#%e9%80%8f%e4%bc%a0-attributes">#</a>
</h3>
<ul>
<li>class与style：没有被组件声明为props和emits的属性或事件监听器，会被添加到组件的根元素上。如果已经有class或style属性，会和继承的值合并。</li>
<li>v-on监听器：会被添加到组件的根元素上。</li>
<li>深层组件：可以被传递到根节点渲染的组件上，其中被声明过的props和emit事件不会向深层传递。</li>
<li>可以通过 $attr 控制透传进来的属性，包括组件声明的props emit，和class、style、v-on等等。</li>
<li>子组件元素中显示绑定 $attr ：<!-- raw HTML omitted -->click me<!-- raw HTML omitted -->。</li>
<li>在JS中访问透传属性：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">setup</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">useAttrs</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">attrs</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">useAttrs</span>()
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span></code></pre></div><ul>
<li>vue3.3 设置属性禁用继承：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">setup</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">defineOptions</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">inheritAttrs</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ...setup 逻辑
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span></code></pre></div><h3 id="插槽">
  插槽
  <a class="anchor" href="#%e6%8f%92%e6%a7%bd">#</a>
</h3>
<ul>
<li>渲染作用域</li>
<li>默认插槽</li>
<li>具名插槽：要为具名插槽传入内容，需要使用一个含 v-slot 指令（对应简写#）的 <!-- raw HTML omitted --> 元素，并将目标插槽的名字传给该指令</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/29755668/1689231876055-c4caac6d-c1d0-469f-a1e1-fb5623e817c2.png#averageHue=%23fefbfb&amp;clientId=uf75c744a-cc0a-4&amp;from=paste&amp;height=251&amp;id=u617b7d7f&amp;originHeight=376&amp;originWidth=894&amp;originalType=binary&amp;ratio=1.5&amp;rotation=0&amp;showTitle=false&amp;size=70259&amp;status=done&amp;style=none&amp;taskId=ufd629e8c-c4a4-4233-af2c-d741c3ccd32&amp;title=&amp;width=596" alt="image.png" /></p>
<ul>
<li>作用域插槽
<ul>
<li>默认插槽</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">MyComponent</span> <span style="color:#a6e22e">v-slot</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;slotProps&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  {{ slotProps.text }} {{ slotProps.count }}
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">MyComponent</span>&gt;
</span></span></code></pre></div><ul>
<li>具名插槽</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">MyComponent</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">template</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">header</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;headerProps&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    {{ headerProps }}
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">template</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">default</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;defaultProps&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    {{ defaultProps }}
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">template</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">footer</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;footerProps&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    {{ footerProps }}
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">template</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">MyComponent</span>&gt;
</span></span></code></pre></div><ul>
<li>列表展示案例</li>
</ul>
<h3 id="依赖注入-1">
  依赖注入
  <a class="anchor" href="#%e4%be%9d%e8%b5%96%e6%b3%a8%e5%85%a5-1">#</a>
</h3>
<ul>
<li>provide</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">provide</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">provide</span>(<span style="color:#75715e">/* 注入名 */</span> <span style="color:#e6db74">&#39;message&#39;</span>, <span style="color:#75715e">/* 值 */</span> <span style="color:#e6db74">&#39;hello!&#39;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>inject</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">script</span> <span style="color:#a6e22e">setup</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">inject</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">inject</span>(<span style="color:#e6db74">&#39;message&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/script&gt;</span>
</span></span></code></pre></div><h3 id="异步组件配合suspend内置组件再看看">
  异步组件（配合suspend内置组件，再看看）
  <a class="anchor" href="#%e5%bc%82%e6%ad%a5%e7%bb%84%e4%bb%b6%e9%85%8d%e5%90%88suspend%e5%86%85%e7%bd%ae%e7%bb%84%e4%bb%b6%e5%86%8d%e7%9c%8b%e7%9c%8b">#</a>
</h3>
<h1 id="逻辑复用">
  逻辑复用
  <a class="anchor" href="#%e9%80%bb%e8%be%91%e5%a4%8d%e7%94%a8">#</a>
</h1>
<h2 id="组合式函数">
  组合式函数
  <a class="anchor" href="#%e7%bb%84%e5%90%88%e5%bc%8f%e5%87%bd%e6%95%b0">#</a>
</h2>
<p>封装和复用有状态逻辑的函数，例如鼠标跟踪器。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ref</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">onMounted</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">onUnmounted</span>
</span></span><span style="display:flex;"><span>} <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;vue&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">useMouse</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ref</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ref</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">update</span>(<span style="color:#a6e22e">event</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">pageX</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">y</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">pageY</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">onMounted</span>(() =&gt; {
</span></span><span style="display:flex;"><span>        window.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;mousemove&#39;</span>, <span style="color:#a6e22e">update</span>);
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">onUnmounted</span>(() =&gt; {
</span></span><span style="display:flex;"><span>        window.<span style="color:#a6e22e">removeEventListener</span>(<span style="color:#e6db74">&#39;mousemove&#39;</span>, <span style="color:#a6e22e">update</span>);
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">x</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">y</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="自定义指令">
  自定义指令
  <a class="anchor" href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e6%8c%87%e4%bb%a4">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">template</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span> <span style="color:#a6e22e">v</span><span style="color:#f92672">-</span><span style="color:#a6e22e">move</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;box&#34;</span><span style="color:#f92672">&gt;</span><span style="color:#a6e22e">我是盒子</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/div&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/template&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">script</span> <span style="color:#a6e22e">setup</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">ref</span>, <span style="color:#a6e22e">reactive</span>, <span style="color:#a6e22e">computed</span>, <span style="color:#a6e22e">watchEffect</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;vue&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">getCurrentInstance</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;vue&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">HelloWorldVue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./components/HelloWorld.vue&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">useMouse</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./components/MouseMove/index.js&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 移动组件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">vMove</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">el</span>, <span style="color:#a6e22e">binding</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">el</span>, <span style="color:#a6e22e">binding</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">mouseDown</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">move</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">e</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#ae81ff">111</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">el</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">color</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;red&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">left</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">clientX</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;px&#39;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">top</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">clientY</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;px&#39;</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      document.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;mousemove&#39;</span>, <span style="color:#a6e22e">move</span>);
</span></span><span style="display:flex;"><span>      document.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;mouseup&#39;</span>, () =&gt; {
</span></span><span style="display:flex;"><span>        document.<span style="color:#a6e22e">removeEventListener</span>(<span style="color:#e6db74">&#39;mousemove&#39;</span>, <span style="color:#a6e22e">move</span>)
</span></span><span style="display:flex;"><span>      })
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;mousedown&#39;</span>, <span style="color:#a6e22e">mouseDown</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 鼠标坐标
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">useMouse</span>();
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/script&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">style</span> <span style="color:#a6e22e">scoped</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">box</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">200</span><span style="color:#a6e22e">px</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">200</span><span style="color:#a6e22e">px</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">background</span><span style="color:#f92672">-</span><span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">rgb</span>(<span style="color:#ae81ff">238</span>, <span style="color:#ae81ff">114</span>, <span style="color:#ae81ff">114</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/style&gt;</span>
</span></span></code></pre></div><ul>
<li>封装的几种方式：setup()、选项式API、setup语法糖</li>
</ul>
<h2 id="插件">
  插件
  <a class="anchor" href="#%e6%8f%92%e4%bb%b6">#</a>
</h2>
<h1 id="基础">
  基础
  <a class="anchor" href="#%e5%9f%ba%e7%a1%80">#</a>
</h1>
<h2 id="reactive-的局限性">
  reactive() 的局限性
  <a class="anchor" href="#reactive-%e7%9a%84%e5%b1%80%e9%99%90%e6%80%a7">#</a>
</h2>
<ul>
<li>参数只接受对象类型 Array Object Map Set</li>
<li>将属性赋值或解构到本地变量，或者传入一个函数时，会丧失响应性</li>
<li>原因：js没有作用域所有值类型的“引用”</li>
<li>解决：提供 ref() 为任何值类型的数据创建响应式，为 ref 对象包装一个.value属性</li>
</ul>
<h2 id="计算属性">
  计算属性
  <a class="anchor" href="#%e8%ae%a1%e7%ae%97%e5%b1%9e%e6%80%a7">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">setup</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">ref</span>, <span style="color:#a6e22e">reactive</span>, <span style="color:#a6e22e">computed</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">author</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">reactive</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;John Doe&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">books</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#39;Vue 2 - Advanced Guide&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#39;Vue 3 - Basic Guide&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#39;Vue 4 - The Mystery&#39;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 返回一个计算属性 ref
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">publishedBooksMessage</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">computed</span>(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">author</span>.<span style="color:#a6e22e">books</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;Yes&#39;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;No&#39;</span>
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">firstName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ref</span>(<span style="color:#e6db74">&#39;John&#39;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">lastName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ref</span>(<span style="color:#e6db74">&#39;Doe&#39;</span>)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">fullName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">computed</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// getter
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">get</span>() {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">firstName</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; &#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">lastName</span>.<span style="color:#a6e22e">value</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// setter
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">set</span>(<span style="color:#a6e22e">newValue</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// 注意：我们这里使用的是解构赋值语法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      [<span style="color:#a6e22e">firstName</span>.<span style="color:#a6e22e">value</span>, <span style="color:#a6e22e">lastName</span>.<span style="color:#a6e22e">value</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">newValue</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39; &#39;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">template</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">p</span>&gt;<span style="color:#a6e22e">Has</span> <span style="color:#a6e22e">published</span> <span style="color:#a6e22e">books</span><span style="color:#f92672">:</span>&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">span</span>&gt;{{ <span style="color:#a6e22e">publishedBooksMessage</span> }}&lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">template</span>&gt;
</span></span></code></pre></div><h2 id="侦听器">
  侦听器
  <a class="anchor" href="#%e4%be%a6%e5%90%ac%e5%99%a8">#</a>
</h2>
<ul>
<li>watch() 和 watchEffect() 的区别：前者只监听的给定的数据源，后者自动监听回调中所有能访问的响应式属性</li>
<li>参数：侦听数据源、回调函数、其他选项（比如 immediate, deep, flush）</li>
</ul>
<h2 id="模板引用">
  模板引用
  <a class="anchor" href="#%e6%a8%a1%e6%9d%bf%e5%bc%95%e7%94%a8">#</a>
</h2>
<ul>
<li>访问模板引用：同名ref</li>
<li>v-for 模板引用：ref 包含的是一个数组，对应整个列表的所有元素</li>
<li>函数模板引用：:ref=&quot;(el) =&gt; {}&quot; 每次组件更新时都被调用</li>
<li>组件上的ref：可以获得组件实例，在<!-- raw HTML omitted -->下，父组件可以访问子组件暴露的变量和方法</li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#npm-run-dev执行的过程">npm run dev执行的过程</a></li>
    <li><a href="#vue3-书写风格">vue3 书写风格</a></li>
    <li><a href="#ref全家桶">ref全家桶</a></li>
    <li><a href="#reactive全家桶">reactive全家桶</a></li>
    <li><a href="#ref和reactive的区别">ref和reactive的区别：</a></li>
    <li><a href="#to全家桶">to全家桶</a></li>
    <li><a href="#vue3响应式原理见笔记">vue3响应式原理（见笔记）</a></li>
    <li><a href="#computed计算属性">computed计算属性</a></li>
    <li><a href="#watch监听器再看看官网">watch监听器（再看看官网）</a></li>
    <li><a href="#watcheffect高级监听器">watchEffect高级监听器</a></li>
    <li><a href="#认识组件和生命周期">认识组件和生命周期</a></li>
    <li><a href="#bem布局和经典layout架构">bem布局和经典layout架构</a></li>
    <li><a href="#父子组件传参">父子组件传参</a></li>
    <li><a href="#局部组件和全局组件动态组件">局部组件和全局组件、动态组件</a></li>
    <li><a href="#异步组件">异步组件</a></li>
    <li><a href="#teleport传递组件">Teleport传递组件</a></li>
    <li><a href="#keep-alive缓存组件">keep-alive缓存组件</a></li>
    <li><a href="#动态组件">动态组件</a></li>
    <li><a href="#transition组件">transition组件</a></li>
    <li><a href="#transition-group过渡列表">transition-group过渡列表</a></li>
    <li><a href="#依赖注入">依赖注入</a></li>
    <li><a href="#兄弟组件传参和事件总线">兄弟组件传参和事件总线</a></li>
  </ul>

  <ul>
    <li><a href="#内置组件">内置组件</a>
      <ul>
        <li><a href="#transition"><!-- raw HTML omitted --></a></li>
        <li><a href="#transitiongroup"><!-- raw HTML omitted --></a></li>
        <li><a href="#keepalive"><!-- raw HTML omitted --></a></li>
        <li><a href="#teleport"><!-- raw HTML omitted --></a></li>
        <li><a href="#suspense"><!-- raw HTML omitted --></a></li>
      </ul>
    </li>
    <li><a href="#深入组件">深入组件</a>
      <ul>
        <li><a href="#透传-attributes">透传 Attributes</a></li>
        <li><a href="#插槽">插槽</a></li>
        <li><a href="#依赖注入-1">依赖注入</a></li>
        <li><a href="#异步组件配合suspend内置组件再看看">异步组件（配合suspend内置组件，再看看）</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#组合式函数">组合式函数</a></li>
    <li><a href="#自定义指令">自定义指令</a></li>
    <li><a href="#插件">插件</a></li>
  </ul>

  <ul>
    <li><a href="#reactive-的局限性">reactive() 的局限性</a></li>
    <li><a href="#计算属性">计算属性</a></li>
    <li><a href="#侦听器">侦听器</a></li>
    <li><a href="#模板引用">模板引用</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












